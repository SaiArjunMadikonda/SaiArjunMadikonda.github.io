<div class="row justify-content-center align-items-center p-4">
  <div class="col-lg-6 col-md-8 text-center mt-5 mx-auto">
    <!-- Centered & Responsive Avatar -->
    <div class="d-flex justify-content-center">
      <div class="avatar-container" style="width: 100%; max-width: 540px; height: auto; display: flex; justify-content: center; align-items: center;">
        {% if site.author.image %}
          <img class="img-fluid rounded-circle shadow-lg mx-auto" src="profile.jpg" alt="{{ site.title }}" style="width: 100%; height: auto; object-fit: cover;">
        {% else %}
          <img class="img-fluid rounded-circle shadow-lg mx-auto" src="https://ui-avatars.com/api/?name={{ site.title }}&background=random" alt="{{ site.title }}" style="width: 100%; height: auto; object-fit: cover;">
        {% endif %}
      </div>
    </div>

    <p class="text-muted wow animated slideInUp mt-4" data-wow-delay=".15s">{{ site.description }}</p>

    <!-- Social Media Buttons with Fade-in Effect -->
    <div class="mt-4 d-flex justify-content-center wow animated slideInUp" data-wow-delay=".2s" style="gap: 2rem;">
      <a class="btn btn-outline-dark btn-lg shadow-sm d-flex align-items-center resume wow animated slideInUp" 
        data-wow-delay=".3s"
        href="https://drive.google.com/file/d/1-1vvEHxE5sBLgXJiJN1iqoJ_jYgGWL1U/view?usp=sharing">
        <i class="fas fa-file-pdf" style="margin-right: 8px;"></i>
        <span>Resume</span>
      </a>
      <a class="btn btn-outline-dark btn-lg shadow-sm d-flex align-items-center github wow animated slideInUp" 
        data-wow-delay=".4s"
        href="https://github.com/vishnumandala">
        <i class="fab fa-github" style="margin-right: 8px;"></i>
        <span>GitHub</span>
      </a>
      <a class="btn btn-outline-dark btn-lg shadow-sm d-flex align-items-center linkedin wow animated slideInUp" 
        data-wow-delay=".5s"
        href="https://www.linkedin.com/in/vishnumandala">
        <i class="fab fa-linkedin-in" style="margin-right: 8px;"></i>
        <span>LinkedIn</span>
      </a>
    </div>
  </div>
</div>

<!-- Scroll Down Arrow -->
<div class="scroll-down" id="scrollArrow" onclick="scrollToAbout()">
  <i class="fas fa-chevron-down"></i>
</div>

<style>
/* Dark Mode Styles: Use different shades for outline and icons */
@media (prefers-color-scheme: dark) {
  /* Resume (PDF - Darker Red in Dark Mode) */
  .btn-outline-dark.resume {
    border-color: #B20000 !important; /* Darker Red */
    color: #B20000 !important;
  }

  .btn-outline-dark.resume i {
    color: #B20000 !important;
  }

  .btn-outline-dark.resume:hover {
    background-color: #FF0000 !important; /* Brighter Red on hover */
    color: white !important;
    border-color: transparent !important;
  }

  .btn-outline-dark.resume:hover i {
    color: white !important;
  }

  /* GitHub (Lighter Gray in Dark Mode) */
  .btn-outline-dark.github {
    border-color: #888888 !important; /* Lighter Gray */
    color: #888888 !important;
  }

  .btn-outline-dark.github i {
    color: #888888 !important;
  }

  .btn-outline-dark.github:hover {
    background-color: #333333 !important; /* Dark Gray on hover */
    color: white !important;
    border-color: transparent !important;
  }

  .btn-outline-dark.github:hover i {
    color: white !important;
  }

  /* LinkedIn (Same Blue in Dark Mode) */
  .btn-outline-dark.linkedin {
    border-color: #0077B5 !important;
    color: #0077B5 !important;
  }

  .btn-outline-dark.linkedin i {
    color: #0077B5 !important;
  }

  .btn-outline-dark.linkedin:hover {
    background-color: #0077B5 !important;
    color: white !important;
    border-color: transparent !important;
  }

  .btn-outline-dark.linkedin:hover i {
    color: white !important;
  }
}

/* Mobile Styles: Show only icons, remove text, and reduce spacing */
@media (max-width: 768px) {
  .d-flex.justify-content-center {
    gap: 0.5rem !important; /* Reduce space between buttons */
  }

  .btn-outline-dark {
    width: 60px !important; /* Fixed size for consistency */
    height: 60px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 !important;
    text-align: center !important;
    white-space: nowrap;
    overflow: hidden;
    position: relative;
  }

  /* Fully remove text on mobile */
  .btn-outline-dark {
    font-size: 0 !important;
  }

  /* Ensure only the icon remains */
  .btn-outline-dark i + * {
    display: none !important;
  }

  /* Absolutely center the icon */
  .btn-outline-dark i {
    font-size: 1.8rem !important; /* Adjust icon size */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
    text-align: center !important;
    margin: 0 auto !important;
  }
}

/* Add spacing between icon and text on larger screens */
@media (min-width: 769px) {
  .btn-outline-dark {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px !important; /* Adds space between icon and text */
    padding: 8px 16px !important; /* Ensures proper button padding */
  }
}

html {
  scroll-behavior: smooth;
}

.hidden-section {
  opacity: 0;
  transform: translateY(50px); /* Start below the screen */
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  visibility: hidden;
  pointer-events: none; /* Prevent interaction when hidden */
}

.visible-section {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
  pointer-events: auto;
}
/* Scroll Down Arrow */
.scroll-down {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 32px;
    cursor: pointer;
    animation: bounce 1.5s infinite;
    z-index: 1000;
    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
}

/* Hide when About section is in view */
.scroll-down.hidden {
    opacity: 0;
    transform: translateY(20px) translateX(-50%);
    pointer-events: none;
}

.avatar-container {
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1200px; /* Adds depth */
  width: 100%;
  max-width: 350px; /* Ensures full size */
  height: auto;
  position: relative;
  animation: fadeInZoom 1.2s ease-out, float 5s infinite ease-in-out;
}

/* Avatar Image */
.avatar-container img {
  width: 100%;
  max-width: 100%;
  height: auto;
  border-radius: 50%;
  transition: transform 0.4s ease-out, box-shadow 0.4s ease-in-out, filter 0.4s ease-out;
  transform-style: preserve-3d;
  will-change: transform;
  position: relative;
  z-index: 2;
}

/* Always-On Background Glow (Subtle) */
.avatar-container::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(128, 0, 128, 0.4), rgba(255, 165, 0, 0.3));
  filter: blur(30px);
  z-index: 1;
  opacity: 1;
  transition: opacity 0.4s ease-in-out;
}

/* Intensified Background Glow on Hover */
.avatar-container:hover::before {
  animation: backgroundPulse 3s infinite alternate;
}

@keyframes backgroundPulse {
  0% {
    opacity: 0.6;
    filter: blur(40px);
    background: radial-gradient(circle, rgba(128, 0, 128, 0.6), rgba(255, 165, 0, 0.5));
  }
  50% {
    opacity: 0.8;
    filter: blur(50px);
    background: radial-gradient(circle, rgba(255, 165, 0, 0.6), rgba(128, 0, 128, 0.6));
  }
  100% {
    opacity: 0.6;
    filter: blur(40px);
    background: radial-gradient(circle, rgba(128, 0, 128, 0.6), rgba(255, 165, 0, 0.5));
  }
}

/* Gradient Neon Pulse Effect for Avatar (Always Running) */
@keyframes gradientGlow {
  0% {
    box-shadow: 0px 0px 30px rgba(128, 0, 128, 0.5), 0px 0px 40px rgba(255, 165, 0, 0.3);
  }
  50% {
    box-shadow: 0px 0px 40px rgba(255, 165, 0, 0.5), 0px 0px 50px rgba(128, 0, 128, 0.4);
  }
  100% {
    box-shadow: 0px 0px 30px rgba(128, 0, 128, 0.5), 0px 0px 40px rgba(255, 165, 0, 0.3);
  }
}

.avatar-container img {
  animation: gradientGlow 3s infinite alternate; /* Always active */
  box-shadow: 0px 10px 30px rgba(128, 0, 128, 0.3), 0px 10px 30px rgba(255, 165, 0, 0.3);
}

/* Hover Effect - Intensified Glow */
.avatar-container img:hover {
  box-shadow: 0px 15px 60px rgba(128, 0, 128, 0.6), 0px 0px 80px rgba(255, 165, 0, 0.5);
  transform: scale(1.05);
  filter: brightness(1.2);
}

/* Floating Effect */
@keyframes float {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
  100% {
    transform: translateY(0);
  }
}

/* Futuristic Shadow Trail Effect */
@keyframes shadowTrail {
  0% {
    opacity: 0.6;
    transform: scale(1);
    filter: blur(10px);
  }
  100% {
    opacity: 0;
    transform: scale(1.2);
    filter: blur(30px);
  }
}

.shadow-trail {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(128, 0, 128, 0.3), rgba(255, 165, 0, 0.3));
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  pointer-events: none;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const aboutSection = document.getElementById("about");
  let lastScrollY = window.scrollY;

  function handleScroll() {
    const currentScrollY = window.scrollY;
    const triggerHeight = window.innerHeight * 0.5; // Trigger when scrolled halfway

    if (currentScrollY > triggerHeight && currentScrollY > lastScrollY) {
      // Scroll down: Show About section
      aboutSection.classList.add("visible-section");
    } else if (currentScrollY < lastScrollY && currentScrollY < triggerHeight) {
      // Scroll up: Hide About section
      aboutSection.classList.remove("visible-section");
    }

    lastScrollY = currentScrollY;
  }

  window.addEventListener("scroll", handleScroll);
});

function scrollToAbout() {
    const aboutSection = document.getElementById("about");
    if (aboutSection) {
        window.scrollTo({
            top: aboutSection.offsetTop - 20, // Adjusts to ensure it starts at the very top
            behavior: "smooth",
        });
    }
}


// Ensure the arrow disappears exactly when About appears
document.addEventListener("DOMContentLoaded", function () {
    const scrollArrow = document.getElementById("scrollArrow");
    const aboutSection = document.getElementById("about");

    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    scrollArrow.classList.add("hidden"); // Hide when About is visible
                } else {
                    scrollArrow.classList.remove("hidden"); // Show when About is not in view
                }
            });
        },
        { threshold: 0.1 } // Triggers when 10% of the About section is in view
    );

    observer.observe(aboutSection);
});

document.addEventListener("DOMContentLoaded", function () {
    const scrollArrow = document.getElementById("scrollArrow");
    const descriptionText = document.querySelector(".text-muted"); // Ensure this class matches your description
    if (descriptionText) {
        const computedStyle = window.getComputedStyle(descriptionText);
        scrollArrow.style.color = computedStyle.color;
    }
});

document.addEventListener("DOMContentLoaded", function () {
  const avatar = document.querySelector(".avatar-container img");
  const shadowTrail = document.createElement("div");
  shadowTrail.classList.add("shadow-trail");
  document.querySelector(".avatar-container").appendChild(shadowTrail);

  avatar.addEventListener("mousemove", (e) => {
    const { offsetX, offsetY, target } = e;
    const { offsetWidth, offsetHeight } = target;
    const xRotation = ((offsetY - offsetHeight / 2) / offsetHeight) * 10; // Subtle tilt
    const yRotation = ((offsetX - offsetWidth / 2) / offsetWidth) * 10;

    target.style.transform = `rotateX(${xRotation}deg) rotateY(${yRotation}deg) scale(1.05)`;

    // Shadow Trail Effect
    shadowTrail.style.opacity = "1";
    shadowTrail.style.animation = "shadowTrail 0.8s ease-out forwards";
  });

  avatar.addEventListener("mouseleave", () => {
    avatar.style.transform = "rotateX(0) rotateY(0) scale(1)";
    shadowTrail.style.opacity = "0";

    // Restart hover effect every time
    avatar.style.animation = "none";
    void avatar.offsetWidth; // Trigger reflow
    avatar.style.animation = "gradientGlow 3s infinite alternate";
  });
});

</script>
  